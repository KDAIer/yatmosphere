# 全屋智能设备一体化控制系统

## 项目简介

全屋智能设备一体化控制系统旨在为用户提供一个集中、统一的界面和接口，实现对家中各种智能设备（如智能灯光、空调、窗帘、安防设备等）的便捷控制与管理，提升家居智能化体验和生活品质。

## 功能需求

- **设备管理**：支持设备的添加、删除、编辑及分组管理。
- **实时监控**：提供设备状态的实时监控与更新。
- **远程控制**：支持通过移动端或 Web 端进行远程控制。
- **场景模式**：可创建、编辑多种场景模式，一键切换场景。
- **用户权限**：基于角色或用户的权限管理，保障系统安全。
- **扩展性**：模块化设计，便于后续集成更多品牌/类型的智能设备。

## 技术栈

- **后端**：Node.js / Python (Flask 或 Django)
- **前端**：Vue.js / React
- **数据库**：MongoDB / MySQL
- **通信协议**：MQTT、HTTP RESTful API
- **自动化平台参考**：
  - [Home Assistant](https://www.home-assistant.io/)
  - [Xiaomi Home Integration for Home Assistant](https://github.com/XiaoMi/ha_xiaomi_home)

## 系统架构

```plaintext
+-------------+          +----------+         +--------------+
| 前端界面    | <------> | 后端服务 | <-----> | 设备适配层   |
| (Web/Mobile)|          | (API)    |         | (驱动/协议)  |
+-------------+          +----------+         +--------------+
                              |
                              v
                         +-----------+
                         | 数据存储  |
                         +-----------+
```

- **设备适配层**：封装各品牌设备的控制协议，提供统一接口。
- **后端服务**：处理业务逻辑、权限验证、状态同步等。
- **前端界面**：提供用户交互、场景管理和实时数据展示。

## 安装与部署

1. 克隆仓库：
   ```bash
   git clone https://github.com/你的组织/仓库名.git
   cd 仓库名
   ```
2. 安装依赖：
   ```bash
   # 后端
   cd backend && npm install # 或 pip install -r requirements.txt

   # 前端
   cd ../frontend && npm install
   ```
3. 配置环境变量：
   ```bash
   # 后端 .env 示例
   PORT=3000
   DB_URI=mongodb://localhost:27017/smart_home
   MQTT_BROKER= mqtt://localhost:1883
   ```
4. 启动服务：
   ```bash
   # 后端
   npm run start
   
   # 前端
   npm run serve
   ```

## 项目结构

```
├── backend                # 服务端代码
│   ├── controllers        # 控制器层
│   ├── services           # 业务逻辑
│   ├── adapters           # 设备适配层
│   ├── models             # 数据模型
│   └── routes             # 路由定义
├── frontend               # 前端代码
│   ├── src
│   │   ├── components     # 组件库
│   │   ├── views          # 页面级视图
│   │   └── store          # 状态管理
│   └── public
├── docs                   # 文档及设计材料
├── scripts                # 部署与工具脚本
└── README.md              # 项目说明
```

## 场景模式示例

| 场景名称     | 设备状态                                    |
| ------------ | ------------------------------------------- |
| 影院模式     | 灯光：调暗，窗帘：关闭，空调：22°C，音响：开启 |
| 智能回家     | 灯光：开启，门锁：解锁，空调：启动           |
| 夜间模式     | 灯光：关闭，安防：警戒模式                  |

## 用户权限管理

- **管理员**：拥有所有设备和用户的管理权限。
- **普通用户**：只能控制被分配的设备和场景。

## 开发及迭代计划

| 周次       | 任务内容                           |
| ---------- | ---------------------------------- |
| 第9-12周   | 需求分析、原型设计及基础框架搭建   |
| 第13-14周  | 设备适配模块开发及协议集成         |
| 第15周     | 前端界面实现及交互联调             |
| 第16周     | 系统测试、性能优化及用户验收       |
| 第17周     | 项目演示                           |
| 第18周     | 文档整理及提交                     |

## 贡献指南

1. Fork 本仓库并新建分支：`git checkout -b feature/YourFeature`
2. 提交代码：`git commit -m "Add YourFeature"`
3. 推送分支并发起 Pull Request。
4. 负责人评审通过后合并。

## 团队成员

- 马岱（项目负责人）
- 

## 许可证

本项目遵循 MIT 许可证，详见 [LICENSE](LICENSE)。

---

感谢关注，如有问题或建议，请联系项目负责人：madai@mail2.sysu.edu.cn

